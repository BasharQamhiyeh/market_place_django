{# marketplace/templates/partials/_report_modal_mockup.html #}

<div id="reportModal"
     class="popup-bg hidden {% if report_kind == 'request' %}theme-green{% else %}theme-orange{% endif %}"
     aria-hidden="true"
     data-reported-already="{% if reported_already %}1{% else %}0{% endif %}">

  <div class="popup-box" role="dialog" aria-modal="true">

    {# ----------- Define unified variables safely ----------- #}
    {% if report_kind == "request" %}
      {% with listing=request_obj.listing listing_type="request" modal_title="الإبلاغ عن الطلب" title_label="عنوان الطلب" id_label="رقم الطلب" display_id=request_obj.id %}
        {% include "partials/_report_modal_body.html" %}
      {% endwith %}
    {% else %}
      {% with listing=item.listing listing_type="item" modal_title="الإبلاغ عن الإعلان" title_label="عنوان الإعلان" id_label="رقم الإعلان" display_id=item.id %}
        {% include "partials/_report_modal_body.html" %}
      {% endwith %}
    {% endif %}

  </div>
</div>
