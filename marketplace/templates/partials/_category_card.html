{# templates/partials/_category_card_trending.html #}
{% load i18n %}

<div class="trending-wrap snap-start flex-shrink-0">
  <a href="{% url 'item_list' %}?categories={{ cat.id }}"
     class="trending-card relative h-[210px] w-[250px] sm:h-[220px] sm:w-[280px]
            group cursor-pointer overflow-hidden rounded-2xl border-2 border-transparent
            transition-all duration-300 hover:border-[#ff7a18] block">

    {% if cat.photo and cat.photo.image %}
      <img
        src="{{ cat.photo.image.url }}"
        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
        alt="{{ cat }}"
        loading="lazy"
        decoding="async"
      >
    {% endif %}

    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent p-6 flex flex-col justify-end">
      {# ✅ NAME: either use __str__ ({{ cat }}) or explicit ar/en #}
      <h5 class="text-xl font-black text-white mb-1">
        {{ cat }}
      </h5>

      {# ✅ SUBTITLE: show correct language + safe fallback #}
      {% get_current_language as LANG %}
      <p class="text-xs text-orange-400 font-bold uppercase tracking-widest">
        {% if LANG == "ar" %}
          {{ cat.subtitle_ar|default_if_none:"" }}
        {% else %}
          {{ cat.subtitle_en|default_if_none:"" }}
        {% endif %}
      </p>
    </div>
  </a>
</div>
