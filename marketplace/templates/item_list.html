{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Items" %}{% endblock %}

{% block content %}
<div class="card shadow-sm border-0">
  <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
    <h5 class="mb-0">{% trans "Items" %}</h5>
    <div>
      {% if user.is_authenticated %}
        <a class="btn btn-sm btn-jordan me-2" href="{% url 'create_item' %}">{% trans "Post new item" %}</a>
      {% else %}
        <a class="btn btn-sm btn-jordan me-2" href="{% url 'login' %}">{% trans "Login" %}</a>
        <a class="btn btn-sm btn-jordan-outline" href="{% url 'register' %}">{% trans "Register" %}</a>
      {% endif %}
    </div>
  </div>

  <div class="card-body">
    <form class="mb-3">
      <input type="text"
             name="q"
             class="form-control"
             placeholder="{% trans 'Search...' %}"
             value="{{ q }}"
             hx-get="."
             hx-trigger="keyup changed delay:100ms[target.value.length > 1]"
             hx-target="#results"
             hx-push-url="true">
    </form>

    <div id="results">
      {% include 'partials/item_results.html' %}
    </div>
  </div>
</div>
{% endblock %}
