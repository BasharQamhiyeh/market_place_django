{% extends "base.html" %}
{% load static %}

{% block title %}ركن | بوابتك الذكية للسوق{% endblock %}

{% block base_css %}
  {{ block.super }}
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Cairo', sans-serif; background-color: #ffffff; }
    .hero-gradient { background: radial-gradient(circle at top right, #fff9f5 0%, #ffffff 70%); }

    :root {
      --rukn-orange: #ff7a18;
      --rukn-orange-dark: #e66a15;
      --rukn-orange-light: #fff5ed;
      --slate-900: #0f172a;
      --slate-800: #1e293b;
      --slate-600: #475569;
    }

    body {
      font-family: 'Cairo', sans-serif;
      background-color: #ffffff;
      color: var(--slate-800);
      scroll-behavior: smooth;
    }

    .orange-gradient { background: linear-gradient(135deg, #ff7a18 0%, #ff9d52 100%); }

    .pro-shadow { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.08); }

    .glass-card {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .hover-up { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .hover-up:hover { transform: translateY(-10px); box-shadow: 0 30px 60px -15px rgba(255, 122, 24, 0.2); }

    .text-gradient {
      background: linear-gradient(to left, var(--slate-900), var(--rukn-orange));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .animate-in { animation: fadeInUp 0.8s ease-out forwards; }
    .section-spacing { padding-top: 100px; padding-bottom: 100px; }

    .btn-primary {
      background: linear-gradient(135deg, var(--rukn-orange) 0%, #ff5e00 100%);
      box-shadow: 0 10px 20px -10px rgba(255, 122, 24, 0.5);
    }

    .floating-card { animation: float 6s ease-in-out infinite; }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(3deg); }
      50%      { transform: translateY(-20px) rotate(5deg); }
    }

    .category-tag {
      backdrop-filter: blur(8px);
      background: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(255, 122, 24, 0.1);
    }
  </style>
{% endblock %}

{% block content %}

<main>
  <section class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden hero-gradient">
    <div class="absolute -top-24 -left-24 w-96 h-96 bg-orange-100/50 rounded-full blur-3xl -z-10"></div>
    <div class="absolute top-1/2 -right-24 w-80 h-80 bg-blue-50/50 rounded-full blur-3xl -z-10"></div>

    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-12 gap-12 items-center">

        <div class="lg:col-span-7 animate-in text-center lg:text-right">
          <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-orange-50 text-[#ff7a18] text-sm font-bold mb-6 border border-orange-100">
            <span class="relative flex h-2 w-2">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
              <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
            </span>
            ركن: حيث تلتقي الثقة بالسهولة
          </div>

          <h1 class="text-5xl md:text-7xl font-black text-slate-900 leading-[1.35] mb-8">
            تسوّق في <span class="text-gradient">ركن</span>
            <br><br>
            <span>بحرية تامة، بلا قيود.</span>
          </h1>
          <br>

          <p class="text-xl md:text-[1.4rem] text-slate-500 font-medium mb-14 max-w-4xl mx-auto leading-relaxed">
            تجاوزنا قيود التسجيل التقليدية. في <span class="text-orange-500 font-extrabold border-b-2 border-orange-200">ركن</span>،
            يمكنك تصفح آلاف العقارات، السيارات، والأجهزة الإلكترونية فوراً. ابحث عما تريد، تواصل بجدية، وأنجز صفقاتك بكل سلاسة.
          </p>

          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center">
            <a href="{% url 'home' %}#explore" class="btn-primary text-white font-black px-10 py-5 rounded-2xl text-xl transition-all duration-300 hover:scale-105 flex items-center gap-3">
              ابدأ التصفح الآن
            </a>
            <a href="#steps" class="flex items-center gap-2 text-slate-900 font-black px-8 py-5 text-xl hover:text-orange-500 transition-all group">
              كيف يعمل ركن؟
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform group-hover:translate-y-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
              </svg>
            </a>
          </div>
        </div>

        <div class="lg:col-span-5 relative hidden lg:block">
          <div class="relative w-full h-[500px]">
            <div class="absolute top-0 right-0 w-60 p-4 rounded-3xl bg-white shadow-2xl z-20 floating-card border border-slate-50">
              <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400" class="rounded-2xl mb-3 h-32 w-full object-cover" alt="Real Estate">
              <div class="h-2 w-12 bg-orange-100 rounded-full mb-2"></div>
              <div class="text-slate-900 font-black text-sm">عقارات حديثة</div>
            </div>

            <div class="absolute top-0 left-0 w-35 p-4 rounded-3xl bg-white shadow-2xl z-20 floating-card border border-slate-50">
              <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400" class="rounded-2xl mb-3 h-32 w-full object-cover" alt="Perfumes">
              <div class="h-2 w-12 bg-orange-100 rounded-full mb-2"></div>
              <div class="text-slate-900 font-black text-sm">عطور</div>
            </div>

            <div class="absolute bottom-10 left-0 w-56 p-4 rounded-3xl bg-white shadow-2xl z-30 floating-card border border-slate-50" style="animation-delay: -2s;">
              <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400" class="rounded-2xl mb-3 h-28 w-full object-cover" alt="Electronics">
              <div class="h-2 w-12 bg-orange-100 rounded-full mb-2"></div>
              <div class="h-4 w-3/4 bg-slate-100 rounded-full mb-2"></div>
              <div class="text-slate-900 font-black text-sm">أجهزة إلكترونية</div>
            </div>

            <div class="absolute bottom-7 right-0 w-35 p-4 rounded-3xl bg-white shadow-2xl z-30 floating-card border border-slate-50" style="animation-delay: -2s;">
              <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400" class="rounded-2xl mb-3 h-28 w-full object-cover" alt="Cars">
              <div class="h-2 w-12 bg-orange-100 rounded-full mb-2"></div>
              <div class="h-4 w-3/4 bg-slate-100 rounded-full mb-2"></div>
              <div class="text-slate-900 font-black text-sm">سيارات مميزة</div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </section>

  <section class="relative z-30 -mt-20 mb-20 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="bg-slate-900 rounded-[4rem] p-10 md:p-16 shadow-2xl relative overflow-hidden border border-slate-800">
        <div class="absolute top-0 right-0 w-64 h-64 bg-orange-500/10 blur-[100px]"></div>

        <div class="relative z-10">
          <div class="text-center mb-12">
            <h2 class="text-white text-3xl md:text-4xl font-black mb-4 tracking-tight">
              وداعاً للتعقيد.. أهلاً بـ <span class="text-orange-500">عصر جديد</span>
            </h2>
            <p class="text-slate-400 text-lg">صممنا "ركن" لنحل المشاكل التي لطالما أزعجتك في المواقع الأخرى</p>
          </div>

          <div class="grid md:grid-cols-2 gap-8 items-stretch">
            <div class="bg-white/5 border border-white/10 rounded-[3rem] p-8 md:p-10 flex flex-col transition-all">
              <div class="flex items-center gap-4 mb-8">
                <div class="w-14 h-14 bg-red-500/20 rounded-2xl flex items-center justify-center text-red-500">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <div>
                  <h4 class="text-white text-2xl font-black">المواقع التقليدية</h4>
                  <p class="text-red-400/60 text-sm font-bold">تجربة مليئة بالعقبات</p>
                </div>
              </div>

              <ul class="space-y-6 flex-grow">
                <li class="flex items-start gap-4 text-slate-400"><span class="mt-1.5 w-2 h-2 bg-red-500 rounded-full flex-shrink-0"></span><p class="leading-tight">إجبارك على إنشاء حساب قبل مشاهدة الصور والأسعار.</p></li>
                <li class="flex items-start gap-4 text-slate-400"><span class="mt-1.5 w-2 h-2 bg-red-500 rounded-full flex-shrink-0"></span><p class="leading-tight">إعلانات منبثقة (Pop-ups) تعيق تصفحك وتشتت انتباهك.</p></li>
                <li class="flex items-start gap-4 text-slate-400"><span class="mt-1.5 w-2 h-2 bg-red-500 rounded-full flex-shrink-0"></span><p class="leading-tight">سياسات معقدة لنشر إعلانك تستهلك الكثير من وقتك.</p></li>
                <li class="flex items-start gap-4 text-slate-400"><span class="mt-1.5 w-2 h-2 bg-red-500 rounded-full flex-shrink-0"></span><p class="leading-tight">واجهات قديمة وصعبة الاستخدام على الهواتف الذكية.</p></li>
                <li class="flex items-start gap-4 text-slate-400"><span class="mt-1.5 w-2 h-2 bg-red-500 rounded-full flex-shrink-0"></span><p class="leading-tight">صعوبة الوصول المباشر لبيانات التواصل مع البائع.</p></li>
              </ul>

              <div class="mt-10 py-4 text-center border-t border-white/5">
                <span class="text-slate-500 text-sm italic">تجربة محبطة للمستخدم..</span>
              </div>
            </div>

            <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-[3rem] p-8 md:p-10 flex flex-col shadow-2xl relative overflow-hidden group">
              <div class="absolute top-0 right-0 w-full h-full bg-white/5 -skew-x-12 translate-x-full group-hover:translate-x-[-100%] transition-transform duration-1000"></div>

              <div class="flex items-center gap-4 mb-8">
                <div class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center text-white">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <div>
                  <h4 class="text-white text-2xl font-black">منصة ركن</h4>
                  <p class="text-orange-100 text-sm font-bold">بساطة، سرعة، وخصوصية</p>
                </div>
              </div>

              <ul class="space-y-6 flex-grow">
                <li class="flex items-start gap-4 text-white"><div class="mt-1 bg-white/20 rounded-full p-1 flex-shrink-0"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg></div><p class="text-lg font-bold leading-tight">تصفح كامل وحرية تامة دون الحاجة لأي تسجيل.</p></li>
                <li class="flex items-start gap-4 text-white"><div class="mt-1 bg-white/20 rounded-full p-1 flex-shrink-0"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg></div><p class="text-lg font-bold leading-tight">واجهة عصرية نظيفة تركز فقط على ما يهمك.</p></li>
                <li class="flex items-start gap-4 text-white"><div class="mt-1 bg-white/20 rounded-full p-1 flex-shrink-0"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg></div><p class="text-lg font-bold leading-tight">انشر إعلانك في 30 ثانية فقط بخطوات ذكية.</p></li>
                <li class="flex items-start gap-4 text-white"><div class="mt-1 bg-white/20 rounded-full p-1 flex-shrink-0"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg></div><p class="text-lg font-bold leading-tight">تصميم مستجيب يمنحك تجربة تطبيق على المتصفح.</p></li>
                <li class="flex items-start gap-4 text-white"><div class="mt-1 bg-white/20 rounded-full p-1 flex-shrink-0"><svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"></path></svg></div><p class="text-lg font-bold leading-tight">تواصل عبر الواتساب أو الاتصال بضغطة واحدة.</p></li>
              </ul>

              <a href="{% url 'home' %}#explore" class="mt-10 w-full bg-white text-orange-600 font-black py-4 rounded-2xl hover:scale-105 transition-all text-center shadow-xl">
                اكتشف الفرق الآن
              </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <section id="steps" class="py-24 bg-white" dir="rtl">
    <div class="text-center mb-10">
      <h2 class="text-4xl md:text-5xl font-black text-slate-900 mt-6">كيف يعمل <span class="text-orange-500">ركن؟</span></h2>
    </div>

    <div class="max-w-7xl mx-auto px-6">

      <div class="flex flex-col md:flex-row gap-12 items-stretch mb-24 group">
        <div class="flex items-center gap-6 md:w-1/3">
          <span class="text-9xl font-black text-slate-100 group-hover:text-orange-200 transition-colors">01</span>
          <div>
            <h2 class="text-4xl font-black mb-2 text-slate-800">حرية التصفح</h2>
            <p class="text-lg font-bold text-slate-400">خصوصيتك أولاً</p>
          </div>
        </div>
        <div class="md:w-2/3 bg-slate-50 rounded-[3rem] p-12 border border-slate-100 flex items-center">
          <p class="text-xl md:text-2xl text-slate-700 leading-relaxed">
            افتح الموقع وشاهد كل التفاصيل، الصور، والأسعار فوراً. لا توجد عوائق أو نوافذ إجبارية تطلب بياناتك الشخصية قبل أن تقرر ما تريد.
          </p>
        </div>
      </div>

      <div class="flex flex-col md:flex-row-reverse gap-12 items-stretch mb-24 group">
        <div class="flex items-center gap-6 md:w-1/3">
          <span class="text-9xl font-black text-slate-100 group-hover:text-orange-200 transition-colors">02</span>
          <div>
            <h2 class="text-4xl font-black mb-2 text-slate-800">تواصل مباشر</h2>
            <p class="text-lg font-bold text-slate-400">بكل سهولة</p>
          </div>
        </div>
        <div class="md:w-2/3 bg-orange-50 rounded-[3rem] p-12 border border-orange-100 flex items-center">
          <p class="text-xl md:text-2xl text-slate-700 leading-relaxed">
            عندما تجد طلبك وتكون جاهزاً للتفاوض أو نشر إعلانك، يمكنك إنشاء حسابك في لحظات لتتمكن من مراسلة المعلنين وإتمام صفقاتك بأمان.
          </p>
        </div>
      </div>

      <div class="flex flex-col md:flex-row gap-12 items-stretch mb-24 group">
        <div class="flex items-center gap-6 md:w-1/3">
          <span class="text-9xl font-black text-slate-100 group-hover:text-orange-200 transition-colors">03</span>
          <div>
            <h2 class="text-4xl font-black mb-2 text-slate-800">لم تجد طلبك</h2>
            <p class="text-lg font-bold text-slate-400">لا تقلق</p>
          </div>
        </div>
        <div class="md:w-2/3 bg-green-50 rounded-[3rem] p-12 border border-green-100 flex items-center justify-between gap-6">
          <p class="text-xl md:text-2xl text-slate-700 leading-relaxed">أضف طلبك بالتفصيل وانتظر عروض المعلنين</p>
          <a href="{% url 'create_request' %}" class="bg-green-600 text-white font-black px-8 py-4 rounded-2xl hover:scale-105 transition-transform inline-block shadow-lg shadow-emerald-200 whitespace-nowrap">
            أضف طلبك الآن
          </a>
        </div>
      </div>

      <div class="flex flex-col md:flex-row-reverse gap-12 items-stretch group">
        <div class="flex items-center gap-6 md:w-1/3">
          <span class="text-9xl font-black text-slate-100 group-hover:text-orange-200 transition-colors">04</span>
          <div>
            <h2 class="text-4xl font-black mb-2 text-slate-800">نمو أعمالك</h2>
            <p class="text-lg font-bold text-slate-400">حلول التجار</p>
          </div>
        </div>
        <div class="md:w-2/3 bg-blue-50 rounded-[3rem] p-12 border border-blue-100 flex flex-col md:flex-row items-center gap-8 shadow-sm">
          <div class="flex-1">
            <h4 class="text-slate-900 text-2xl font-black mb-4">هل أنت تاجر أو صاحب مهنة؟</h4>
            <p class="text-slate-700 text-lg leading-relaxed">
              أنشئ "متجراً رقمياً" متكاملاً يجمع كافة عروضك تحت سقف واحد، مما يسهل على العملاء الوصول إليك وبناء ثقة مستدامة بعلامتك التجارية.
            </p>
          </div>

          {# زر يفتح login modal بدل href="#" #}
          <button type="button" class="js-open-login bg-blue-600 text-white font-black px-8 py-4 rounded-2xl hover:scale-105 transition-transform inline-block shadow-lg shadow-emerald-200 whitespace-nowrap">
            أنشئ حسابك الآن
          </button>
        </div>
      </div>

    </div>
  </section>

  <section class="py-24 px-6">
    <div class="max-w-7xl mx-auto bg-orange-500 rounded-[4rem] p-12 lg:p-24 text-center relative overflow-hidden shadow-2xl">
      <div class="absolute top-0 right-0 w-96 h-96 bg-white/10 rounded-full -mr-32 -mt-32"></div>
      <div class="absolute bottom-0 left-0 w-64 h-64 bg-black/5 rounded-full -ml-20 -mb-20"></div>

      <div class="relative z-10 text-white">
        <h2 class="text-4xl md:text-6xl font-black mb-8 leading-tight">ابدأ رحلة النجاح مع ركن</h2>
        <p class="text-orange-50 font-medium text-2xl mb-12 max-w-2xl mx-auto leading-relaxed">
          سواء كنت مشترياً يبحث عن الأفضل، أو تاجراً يرغب في الانتشار، "ركن" هو المكان المناسب لك.
        </p>

        <div class="flex flex-col sm:flex-row gap-6 justify-center">
          <a href="{% url 'home' %}" class="bg-white text-orange-600 font-black px-12 py-5 rounded-2xl text-xl hover:scale-105 transition-transform inline-block">
            تصفح الإعلانات
          </a>
          <button type="button" class="js-open-login bg-orange-600 text-white font-black px-12 py-5 rounded-2xl text-xl hover:scale-105 transition-transform inline-block">
            سجل مجاناً
          </button>
        </div>
      </div>
    </div>
  </section>
</main>

<script>
  // فتح login modal (بنفس فكرة about page)
  // حاولنا "بأقل افتراضات": لو عندك زر/دالة جاهزة في base ستشتغل، وإلا ما راح تكسر الصفحة.
  (function () {
    function openLogin() {
      // 1) لو عندك function جاهزة
      if (typeof window.openLoginModal === "function") {
        window.openLoginModal();
        return;
      }
      // 2) لو عندك modal id="loginModal"
      const m = document.getElementById("loginModal");
      if (m) {
        m.classList.remove("hidden");
        m.classList.add("flex");
        document.body.classList.add("overflow-hidden");
        return;
      }
      // 3) fallback: روح لصفحة login لو موجودة
      try {
        window.location.href = "{% url 'login' %}";
      } catch (e) {}
    }

    document.querySelectorAll(".js-open-login").forEach(btn => {
      btn.addEventListener("click", openLogin);
    });
  })();
</script>

{% endblock %}
