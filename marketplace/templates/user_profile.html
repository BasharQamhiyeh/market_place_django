{% extends 'base.html' %}
{% load i18n %}

{% block title %}{{ seller.username }}{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-4">

  <div class="lg:col-span-1">
    <div class="bg-white border border-gray-200 rounded-xl shadow p-6 h-full">
      <h4 class="text-xl font-semibold mb-1">{{ seller.username }}</h4>

      {% if seller.first_name or seller.last_name %}
        <div class="text-gray-500 mb-3">{{ seller.first_name }} {{ seller.last_name }}</div>
      {% endif %}

      <ul class="divide-y border rounded-lg">
        <li class="flex justify-between items-center px-4 py-2">
          <span class="font-semibold">{% trans "Phone" %}</span>
          <span>{{ seller.phone }}</span>
        </li>

        {% if seller.email %}
          <li class="flex justify-between items-center px-4 py-2">
            <span class="font-semibold">{% trans "Email" %}</span>
            <span>{{ seller.email }}</span>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>

  <div class="lg:col-span-2">
    <div class="bg-white border border-gray-200 rounded-xl shadow">
      <div class="px-6 py-3 border-b">
        <h5 class="text-lg font-semibold mb-0">{% trans "Active Listings" %}</h5>
      </div>

      <div class="p-6">
        {% if items %}
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {% for item in items %}
              <div class="bg-white border border-gray-200 rounded-xl shadow-sm h-full">
                {% with first_photo=item.photos.first %}
                  {% if first_photo %}
                    <img src="{{ first_photo.image.url }}"
                         class="w-full rounded-t-xl"
                         style="height:180px;object-fit:cover;"
                         alt="{{ item.title }}">
                  {% endif %}
                {% endwith %}

                <div class="p-4">
                  <a href="{% url 'item_detail' item.id %}" class="hover:text-jordan">
                    <h6 class="text-base font-semibold mb-1">{{ item.title }}</h6>
                  </a>
                  <div class="text-gray-600">JOD {{ item.price }}</div>
                </div>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div class="bg-blue-50 text-blue-800 px-4 py-3 rounded">
            {% trans "This seller has no active announcements at the moment." %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>

</div>
{% endblock %}
